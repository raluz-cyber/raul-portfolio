---
layout: default
---
<section class="projects-index">
  <h1 class="page-title">{{ page.title | default: "Projects" }}</h1>

  {%- comment -%}
  Featured projects first (if any)
  {%- endcomment -%}
  {% assign featured = site.projects | where_exp: "p", "p.featured == true" | sort: "date" | reverse %}
  {% if featured and featured.size > 0 %}
    <h2 class="section-subtitle">Featured</h2>
    <ul class="card-grid">
      {% for p in featured %}
        <li>{% include card-project.html project=p %}</li>
      {% endfor %}
    </ul>
  {% endif %}

  {%- comment -%}
  Then everything else
  {%- endcomment -%}
  {% assign non_featured = site.projects | where_exp: "p", "p.featured != true" | sort: "date" | reverse %}
  {% if non_featured and non_featured.size > 0 %}
    {% if featured and featured.size > 0 %}
      <h2 class="section-subtitle">All projects</h2>
    {% endif %}
    <ul class="card-grid">
      {% for p in non_featured %}
        <li>{% include card-project.html project=p %}</li>
      {% endfor %}
    </ul>
  {% endif %}
</section>
